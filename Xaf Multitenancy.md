# Xaf Multitenancy

https://youtu.be/vicJQlMqPa4?si=d2DWq0gp9QGAqjuR

W porządku, myślę, że jesteśmy na żywo. Dziękujemy wszystkim za udział w kolejnym spotkaniu społeczności XAF. Dzisiejszy temat to multi-tenancy, w rzeczywistości planowaliśmy zrobić meetup na temat load balancingu, ale przenosimy go na styczeń. Myślę, że to spotkanie ma sens teraz, gdy model multi-tenancy został właśnie wydany. Jestem naprawdę podekscytowany obecnością Dennisa, kierownika projektu XAF, który omówi model multi-tenancy, ale także wszystkie wspaniałe rzeczy, które pojawią się w 23 roku. 2. Jestem bardzo podekscytowany wersją beta. Bawiliśmy się nią, naprawdę wiele nowych rzeczy, które myślę, że wszyscy docenią. Menu kontekstowe, to jedna z rzeczy, które również chcieliśmy mieć. Jak zawsze, zanim zaczniemy, dołącz do naszej grupy na Facebooku. Sprawdzałem dzisiaj i mamy 3400 członków. Sprawdźmy, gdzie jest drugi? 3400, więc jestem naprawdę szczęśliwy i podekscytowany tym faktem. Grupa jest naprawdę pomocna dla wszystkich, którzy chcą zadawać pytania lub po prostu dzielić się swoimi doświadczeniami. Jedną z rzeczy, które chcemy zrobić na następnym meetupie, jest powrót do UI z XAF. Zasadniczo każdy, kto ma naprawdę ładny, dostosowany interfejs użytkownika, umieści tam zrzut ekranu, a my, ponownie, udokumentujemy to i będziemy je mieć dla wszystkich, którzy zaczynają i mają te pytania. Dołącz do linku na stronie, śledź XAF na Twitterze. Tam będą pojawiać się wszystkie nowości. Jeśli zobaczysz nowe dokumenty, wszystko, co tam mamy. Będziemy dużo mówić o Linuksie w naszym równoważeniu obciążenia. Hoche przedstawi kompletny przykład użycia NGX i Apache itd. I zasadniczo, jak zawsze, Hoche, Dave, Dennis, możecie się przedstawić wszystkim, którzy zaczynają w XAF i oglądają to po raz pierwszy. Ale potem przejdziemy od razu do rzeczy. A Dennis zacznie pokazywać nam wszystko, co nadchodzi. OK, chyba ja zacznę. Nazywam się Hoche Ojeda. Pracuję dla Bitframeworks Ansari. Jestem DevExpress MVP. Zasadniczo zajmujemy się XAF i XPO, nadal XPO, 24/7. Dave? Tak, dzięki. Dave z LamaChat Technology, również DevExpress MVP. Wciąż uwielbia XPO. Ponieważ używamy XAF, zapuszczamy się również trochę w stronę Entity Framework. Więc tak, to my. [Witam wszystkich. Nazywam się Dennis. Jestem menedżerem produktu w XAF. Sprzedajemy [INAUDIBLE] i inne zespoły w DevExpress. Doskonale. W porządku, myślę, że zaraz do tego przejdziemy, Dennis. Więc pozwól mi przestać udostępniać mój ekran. I dajmy ci program. OK. Pozwól mi udostępnić mój ekran. Proszę, powiedz mi, kiedy coś zobaczysz. Możemy. OK, idealnie. Dzisiaj chciałem krótko przedstawić nasz najnowszy dodatek do naszego frameworka XAF. Jest to moduł multi-tenancy, który jest dostępny w 23. 2. I gorąco polecam sprawdzić naszą stronę Co nowego, jeśli jeszcze jej nie sprawdziłeś, ponieważ opisuje ona wszystkie nowe funkcje, które nadchodzą do XAF, do Blazor, komponentów WinForms, komponentów MatMul UI i wszystkiego, co dostarcza DevExpress. 

Pomińmy więc na chwilę resztę funkcji i skupmy się na module multi-tenancy. Chciałbym zacząć od naszej motywacji dla tego modułu. Myślę, że wielu z was pamięta, że mamy wiele przykładów w naszym centrum wsparcia i GitHubie, które pokazują, jak można na przykład mieć pojedynczą aplikację XAF połączoną z wieloma bazami danych. Na przykład jeden popularny przykład pokazuje, jak można to zrobić. Można na przykład wybrać firmę w formularzu logowania. Następnie można wybrać wymaganego użytkownika, wpisać hasło i voila, można zorganizować tego użytkownika. Inny przykład pokazuje, jak można zmienić bieżącą organizację z poziomu aplikacji. Z biegiem lat odkryliśmy, że mamy wystarczające zapotrzebowanie ze strony naszych użytkowników, naszych klientów na tego rodzaju scenariusze. Naszą motywacją było zapewnienie prostszego rozwiązania niż to, które oferujemy w naszych przykładach. Mówiąc proste, mam na myśli, że idealnie byłoby, gdyby była to opcja jednego kliknięcia w wyniku rozwiązania lub przynajmniej niektóre ustawienia można było skonfigurować za pomocą atrybutów, za pomocą zaledwie kilku wierszy kodu. W wersji 23. 2 zapewniliśmy automatyzację, przynajmniej dla niektórych najbardziej pożądanych scenariuszy. Przejdę krótko do Visual Studio. Tam pokażę kreator rozwiązań XAF. Tutaj po lewej stronie widać nasz element galerii szablonów. Wybieram więc XAF. Pozwól, że trochę to przesunę. Wybieram XAF. Klikam Utwórz. Następnie widzimy, że domyślnie jest to . NET. Mamy również . NET. Ważne jest, aby wiedzieć, że nasz moduł multi-tenancy jest dostępny tylko dla . NET 6 i nowszych. Nie jest więc dostępny dla aplikacji . NET, takich jak formularze internetowe. Klikam więc Uruchom. I tutaj możesz zobaczyć ekran, na którym możesz wybrać swoje platformy. Zatrzymam się tutaj na chwilę, aby opisać opcje obsługiwane w bieżącej wersji. Jak już wspomniałem, skupiliśmy się na aplikacjach . NET. W tym wydaniu skupiliśmy się na aplikacjach WinForms i Blazor. Jeśli więc wybierzesz je jako wynik, możesz przejść dalej. Możesz wybrać preferowany OERM, na przykład WeakSPL. A następnie możesz zobaczyć ten znacznik wyboru, który w rzeczywistości jest rozwiązaniem jednym kliknięciem, o którym mówiłem. To samo, oczywiście, jest dostępne dla Entity Framework. Jeśli wrócimy do ekranu głównego, możemy również wybrać na przykład naszą usługę Web API. Moduł multi-tenancy nie jest dostępny dla tej konfiguracji, przynajmniej w obecnej wersji. Widzimy więc, że brakuje znacznika wyboru multi-tenancy. Ponadto, na przykład, jeśli wybierzesz aplikacje WinForms i włączysz zabezpieczenia warstwy pośredniej, możesz zobaczyć, że ta opcja jest również wyłączona w tej wersji. Obie wyłączone opcje, usługa Web API i zabezpieczenia warstwy pośredniej, są nadal częścią naszej długoterminowej wizji modułu multi-tenancy i mamy nadzieję, że wrócimy do nich w przyszłości. OK, wybierzmy WinForms i Blazor. Wybierzmy WeakSPL. Multi-tenancy jest dostępne. Klikamy Next. Zabezpieczenia są włączone. Kliknij Zakończ. Tak więc kreator rozwiązań utworzy całą wymaganą infrastrukturę dla naszej pierwszej aplikacji multi-tenancy. Zatrzymam się na kilku plikach, aby zademonstrować działanie kreatora rozwiązań. Widzimy więc, że to naprawdę tylko kilka linii, jak mieliśmy nadzieję na samym początku. Widać więc, że kreator rozwiązań dodaje określone metody, takie jak addMulti-tenancy, a także pewną konfigurację, którą omówię później. Zasadniczo to główne aspekty tego, co robi kreator. Cała reszta jest przejrzysta dla deweloperów i jest częścią naszego wbudowanego modułu. Nie chcemy więc omawiać zbyt wielu szczegółów. OK, wróćmy do mojej prezentacji i porozmawiajmy trochę więcej o tym, co jest w niej zawarte. Jak już wspomniałem, wspieramy zarówno Entity Framework, jak i XPL. Chcę podkreślić, że XPL jest obsługiwany, ponieważ pamiętasz, że w pierwszej wersji podglądu, 23. 1, mieliśmy tylko rdzeń Entity Framework. Tak więc XPL jest również obsługiwany. Nie został zapomniany. Więc wszystko jest w porządku. W pierwszej wersji celowo skupiliśmy się na najbardziej popularnych i prostych scenariuszach. Nie oczekuj więc jeszcze wymyślnych i zaawansowanych rzeczy, które będą działać z naszym modułem Multi-tenancy. Chcieliśmy po prostu zbudować niewielki, ale wydajny zakres funkcji i upewnić się, że wszystkie działają poprawnie. Jak już wspomniałem, nie obsługujemy jeszcze zabezpieczeń warstwy pośredniej dla klientów WinForms, a także usługi Web API. Chcę również podkreślić, że jeśli chodzi o skalowalność, na przykład dla aplikacji Excel lub Blazor, jest ona taka sama jak w 23. 1. Więc nic się nie zmienia pod tym względem w 23. 2. 

Ponadto celowo ograniczyliśmy zakres do najpopularniejszej konfiguracji. To wtedy, gdy dzierżawca przechowuje swoje dane w oddzielnej bazie danych. Jak pamiętasz, istnieją scenariusze, w których na przykład masz ogromną współdzieloną bazę danych i wszyscy dzierżawcy przechowują swoje dane. Pozostawiliśmy ten scenariusz na przyszłość i będziemy monitorować preferencje użytkowników w tym zakresie. Ważne jest również, aby wiedzieć, że na razie nie zezwalamy dzierżawcom na posiadanie modułów specyficznych dla klienta lub zestawu klas biznesowych lub zestawu niestandardowych pól dla tych klas biznesowych. Jest to również część naszej długoterminowej wizji tego modułu. Rozważając dalsze ulepszenia, bierzemy również pod uwagę opinie użytkowników. Ważne jest również, aby porozmawiać o licencjonowaniu, ponieważ pamiętasz, że kiedy dostępna była wersja zapoznawcza, rozmawialiśmy o licencjach dostępu klienta. Rozważaliśmy ich wprowadzenie. Żadna decyzja w tej sprawie nie została podjęta w 23. 2. Nadal można korzystać z tego modułu w ramach subskrypcji uniwersalnej. Ponownie czekamy na opinie klientów na temat tego modułu, a w szczególności licencjonowania. Zachęcamy więc do dzielenia się swoimi przemyśleniami. I zwykłe zastrzeżenie, że wszystko może ulec zmianie w przyszłości. Co jeszcze? Teraz myślę, że powinienem wrócić do Visual Studio i kontynuować moje demo. Pozwolę sobie przenieść to tutaj. Po pierwsze, chcę zacząć od dokumentacji produktu. Tutaj. Chcę podkreślić, że jeśli sprawdzasz naszą dokumentację dzisiaj, kiedy 23. 2 nie została jeszcze wydana, musisz wyraźnie wybrać tę wersję, ponieważ domyślnie jest to 23.1 przynajmniej dzisiaj. A jeśli wybierzesz 23. 2, zobaczysz ten temat. Opisuje on architekturę naszego modułu. Możesz zobaczyć moje schematy, dodatkowe informacje o tym, jak rzeczy działają w środku. Możesz zobaczyć kilka referencji API, kilka przykładów. Możesz także zapoznać się z tematami dotyczącymi rozpoczęcia pracy, takimi jak tworzenie pierwszej aplikacji z wieloma dzierżawami, co w zasadzie zademonstrowałem kilka minut temu. Możesz także zobaczyć artykuły, które pokazują, jak przekonwertować istniejącą aplikację. To znaczy, jeśli na przykład zacząłeś budować XAF jakieś pięć lat temu. Opisujemy więc, jakich nowych pakietów należy użyć i jakie są dodatkowe kroki, zmiany w startup.cs itp. Ponadto można tu znaleźć kilka pomocnych tematów dotyczących typowych zadań, takich jak zrozumienie bieżącego dzierżawcy w kodzie, w wyrażeniach kryterialnych. A także kilka komentarzy na temat obsługi modułów oraz niektórych ograniczeń i najlepszych praktyk. Zdecydowanie polecam zacząć od tej dokumentacji. Stworzyliśmy również aplikację demonstracyjną, która jest dostępna na GitHubie. Możesz zobaczyć tę gałąź 23. 2 branch. Jeśli pobierzesz tę aplikację demonstracyjną, możesz grać z naszym modułem multi-tenancy w swoim Visual Studio. Właśnie to zamierzam szybko zrobić. Już pobrałem tę aplikację. Więc jest już otwarta. Jak widać, jest to zwykłe rozwiązanie XAF z Blazor i WinForms. A także współdzielony moduł dla niektórych obiektów biznesowych, dla niektórych kontrolerów. Więc nic nowego. I skupię resztę mojej prezentacji na stronie Blazor rzeczy. Zademonstrujemy niektóre funkcje tego nowego modułu. A więc zapinamy pasy. Mam nadzieję, że się uruchomi, ponieważ pamiętam, że podczas prezentacji Zoom, czasami Visual Studio Debugger zajmuje dużo czasu, aby uruchomić aplikację. Miejmy nadzieję, że dzisiaj tak się nie stanie. Jose, czy są jakieś pytania na teraz? Dlaczego miałoby to trwać długo? Tak, nie, nie. Nie mamy teraz żadnych pytań. Ale przejrzeliśmy dokumentację. I to jest całkiem proste. Utwórz nową aplikację multi-tenant. W tej chwili wystarczy zaznaczyć pole wyboru multi-tenant. Uruchom aplikację dla hosta. Domyślnie jest ona już zaktualizowana. Przekaż ją swoim firmom i użytkownikom. I zaloguj się za pomocą drugiego. I voila, gotowe. To naprawdę miłe. Tak, dziękuję. Myślę, że trafiliśmy na ten problem z Zoomem. I myślę, że powinienem... Chodzi o to, że zrobiliśmy wiele prezentacji Zoom. I jest coś w najnowszej wersji Zooma, czy coś. Ponieważ ostatnio za każdym razem, gdy próbujemy coś zrobić, Zoom trwa wieczność. Natychmiast zamykasz Zoom i Visual Studio. Jest naprawdę szybki. Tak. Tak. Chcę po prostu zatrzymać moją prezentację i być może po prostu przeładować aplikację w Visual Studio, aby nie zmuszać ludzi do długiego czekania. Zrobię to szybko. Tak. Mam nadzieję, że zadziała. OK, daj mi znać. Mamy teraz pytanie na czacie, Dennis. Czy będzie możliwe posiadanie administratora, który mógłby przenosić się między różnymi dzierżawcami? W tej chwili każdy administrator dzierżawy istnieje tylko w tej dzierżawie. Obecnie wszystkie dzierżawy są odizolowane. Nie jest to więc obecnie możliwe. Wrócę do tego punktu w mojej prezentacji nieco później. Mam kilka uwag na ten temat. OK, więc tak, to zdecydowanie kwestia Zoom, ponieważ teraz ładuje się natychmiast. Pozwól mi ponownie udostępnić mój ekran. I proszę, powiedz mi, kiedy coś zobaczysz. Tak, możemy to zobaczyć. OK, idealnie. Więc właśnie uruchomiłem aplikację Blazor. I domyślnie, dokładnie tak jak w badaniu rozwiązania, tworzy formularz roboczy. I oferuje zalogować się jako administrator. A kiedy używasz naszego modułu multi-tenancy, mamy pewną konwencję nazewnictwa domyślnie, że wszyscy użytkownicy najemcy, muszą zalogować się z ich e-mail, jak company. com. Ta konwencja nazewnictwa pomaga modułowi automatycznie rozpoznawać dzierżawcę klienta. Jeśli nie korzystasz z poczty e-mail, możesz zalogować się jako superadministrator i zarządzać częścią kosztową naszego modułu multi-tenancy. Mam na myśli część kosztową, która może tworzyć rzeczywistych dzierżawców. Tutaj możesz to zobaczyć, ten interfejs użytkownika hosta, to typowa aplikacja XF, ograniczona tylko do dwóch funkcji. Służy do tworzenia superadministratorów. Możesz zobaczyć jednego, administratora. Drugą funkcją jest tworzenie dzierżawców. Tutaj widać dwóch predefiniowanych dzierżawców, firmę 1 i firmę 2. Obecnie ma tylko dwa ustawienia. Jest to nazwa, zwana domeną, która jest również używana w wiadomościach e-mail. I rzecz połączeń. Możesz zobaczyć, że połączenia różnią się tylko jedną cyfrą. To jest główny cel tego interfejsu hosta. Ten interfejs użytkownika hosta nie ma obecnie dodatkowych modułów, takich jak raportowanie, nie wiem, pulpity nawigacyjne itp. Więc celowo zachowaliśmy prostotę na tym etapie. Teraz interesująca część. Mamy dzierżawców. Teraz chcemy mieć administratorów dla każdej dzierżawy. Kreator rozwiązań domyślnie tworzy tych administratorów przy użyciu podobnej konwencji nazewnictwa. Pozwól, że przejdę dalej i ci pokażę. Jak pamiętasz, mamy dzierżawę o nazwie company1.com. I mamy predefiniowanego administratora. Po prostu się loguję. Ponownie, dla uproszczenia, być może zauważyłeś, że w tym demo mamy puste hasła. Dlatego nigdy nie używaj tego w produkcji i prawdziwych aplikacjach. Należy oczywiście zmienić hasła dla super administratora i administratorów dzierżawy. To jest demo, które stworzyliśmy w tej wersji. Ten interfejs użytkownika jest interfejsem użytkownika, jak powiedziałem, dla administratorów dzierżawy. Administratorzy dzierżawy mogą mieć dostęp na przykład do ról, ról bezpieczeństwa. Mamy ich tutaj około 10. A także mamy, nie wiem, około 100 użytkowników dla tej dzierżawy. Jeśli chodzi o XAF, ta aplikacja dzierżawy jest po prostu standardową, zwykłą aplikacją XAF. Ma więc wszystkie moduły. Ma raportowanie, bezpieczeństwo, warunkową walidację wyglądu, cokolwiek. Więc wszystko jest standardowe w aplikacji pojedynczego dzierżawcy. Przejdę tylko krótko przez kilka elementów, aby pokazać, że to prawda. Więc to nic specjalnego. Możesz to zobaczyć w tym widoku. Co jeszcze? Przepraszam, że otwiera się powoli, ponieważ ponownie jest to problem Zoom. Wiem, więc używam wszystkich wersji preview Visual Studio, . NET i DirectX. Więc może to trochę potrwać pod debuggerem w tej konfiguracji Zoom. Tak, myślę, że coś tu trafiliśmy. W każdym razie, możesz mi zaufać, że jest to zwykła aplikacja XAF. To nic specjalnego. I polecam sprawdzenie tej aplikacji demonstracyjnej niezależnie od multi-tenancy i tak, ponieważ jest to aplikacja Blazor i WinForms z wieloma modułami, niestandardowymi komponentami maszynki do golenia, takimi jak wykresy, mapowanie, co jeszcze, odczyt pól, szczegóły główne i wiele niestandardowych modeli. Więc to będzie interesujące dla ciebie, aby sprawdzić to w każdym razie, tylko dla celów edukacyjnych. Tak, pokażę tylko kilka przykładów. Tutaj możesz zobaczyć edytor list wykresów. Możesz zobaczyć przeglądarkę PDF, niektóre niestandardowe edytory właściwości. Więc sprawdź to. Teraz chciałem porozmawiać trochę o - tak, w końcu się załadowało. Pozwól mi - tak, na przykład możesz zobaczyć integrację wykresów i odczyt pól, niektóre filtry. OK, pozwolę sobie pominąć tę część, ponieważ Zoom bardzo spowalnia działanie. Zademonstruję tylko, że można się wylogować i zalogować jako użytkownik pierwszej dzierżawy. Właśnie zapamiętałem nazwę użytkownika i aby pokazać, że otworzy się interfejs użytkownika, który nie ma na przykład panelu administracyjnego z rolami, więc możesz po prostu zobaczyć niestandardowe informacje i to wszystko. Chcę podkreślić, że ten tenant jest odizolowany na przykład od firmy 2. Jest więc bezpieczny i nie powinieneś się martwić o utratę danych, przypadkowe ich ujawnienie. I to jest duża różnica, na przykład, gdy niektórzy z was - myślę, że niektórzy z was mogą pamiętać, mamy inny popularny przykład na GitHubie, który pokazuje, jak oddzielić dane między różnymi organizacjami lub działami. Przykład ten opiera się na uprawnieniach bezpieczeństwa, uprawnieniach obiektów, a w szczególności na uprawnieniach członków. Model multi-tenancy zapewnia wbudowane rozwiązanie dla scenariuszy, w których chcesz mieć separację, nie na poziomie aplikacji, ale na poziomie bazy danych. Tak. Pozwolę sobie zakończyć moją demonstrację i powrócić do prezentacji. Chciałem porozmawiać trochę o naszych przyszłych planach na rok 2024, a także skomentować pewne różnice w stosunku do pierwszego podglądu w roku 23. 1. Osoby, które testowały tę wersję zapoznawczą, pamiętają, że mieliśmy na przykład funkcję. Mieliśmy opcję wyboru dzierżawcy w formularzu logowania. Następnie można było wybrać użytkownika. Celowo usunęliśmy tę funkcję w 23. 2, ale z przyjemnością rozważymy ją w przyszłych wersjach, jeśli otrzymamy wystarczające zapotrzebowanie ze strony użytkowników. Ponadto, jak wspomniałem wcześniej, rozważamy powrót do badania scenariusza, w którym dzierżawcy współdzielą tę samą bazę danych. Chcemy również zbadać opcję przełączania dzierżawców z poziomu interfejsu użytkownika aplikacji, na przykład sesję z jednym krzesłem lub coś podobnego. I znowu, chcemy wspierać usługę Web API, warstwę pośrednią, warstwę bezpieczeństwa. I oczywiście interesujące jest dla nas, aby niektóre funkcje i moduły Excela były powiązane z konkretnym zapotrzebowaniem. Jeśli chodzi o licencjonowanie, chcemy sfinalizować warunki w oparciu o opinie użytkowników. Chcę powtórzyć, że opinie użytkowników odgrywają ważną rolę w tym, jak będziemy rozwijać ten moduł w przyszłości. Proszę o kontakt z nami w subcentrum DevExpress, szczegółowe opisanie swoich wymagań, udostępnienie zrzutów ekranu i oczekiwanych wyników. Wiem również, że wielu naszych klientów wdrożyło już niestandardowe rozwiązania. A jeśli podzielisz się swoimi implementacjami referencyjnymi, zrzutami ekranu, przykładami, pomoże ci to upewnić się, że nasze przyszłe wersje będą lepiej spełniać twoje wymagania. Jest to więc sytuacja korzystna dla obu stron, ponieważ możesz potencjalnie migrować ze swojego niestandardowego rozwiązania do naszego wbudowanego modułu i znacznie zaoszczędzić na kosztach utrzymania. Skontaktuj się z nami w subcentrum i podaj jak najwięcej szczegółów, abyśmy mogli podjąć odpowiednie działania. Jak wiesz, wszyscy jesteśmy programistami. Wszyscy mamy do czynienia z klientami. Bardzo trudno jest działać na podstawie ogólnych informacji. A ponieważ po prostu nie da się ich wykorzystać. Cóż, myślę, że to wszystko z mojej strony. Pokażę tylko link do naszej ankiety. Jest ona dostępna w naszym przykładzie GitHub tutaj. Jestem więc gotowy odpowiedzieć na twoje pytania. Dzięki. A potem wróćmy do tego samego pytania, które wszyscy teraz zadają, XBO kontra entity framework. Pytają, czy istnieje preferowany zalecany ORM dla multi-tenancy. W przypadku multi-tenancy nie ma to znaczenia, ponieważ oba są obsługiwane w równym stopniu. I myślę, że pytanie dotyczy bardziej tworzenia, rozpoczynania nowych projektów, na przykład. Niektórzy z was mogą pamiętać, że mamy duży artykuł w naszej dokumentacji online, w którym udzielamy wskazówek użytkownikom, którzy mogą jeszcze podjąć decyzję w tej sprawie. I nadal można tam zobaczyć sekcję poświęconą istniejącym użytkownikom XBO. I chcę podkreślić, że jeśli XBO działa dla ciebie świetnie, myślę, że nie ma powodu, aby migrować do frameworka encji. Więc jeśli jesteś zadowolony z XBO, po prostu nadal go używaj. Co jeszcze mogę powiedzieć? Dodam tylko, że zdecydowanie pozostajemy w XBO, chyba że zajdzie taka potrzeba. Jest nowy projekt, nasz klient ma zespół, który jest bardziej wykwalifikowany. Jego umiejętności są bardziej po stronie struktury encji. Zdecydowanie przechodzimy na framework encji. Ale jeśli to nasz wybór, pozostaniemy w XBO. Zbyt wiele lat i zbyt wiele dobrych rzeczy ma XBO. Więc trudno nam tego nie dostrzec. W porządku, jest jeszcze kilka innych pytań, na które odpowiadaliśmy. Na przykład, czy możliwe jest posiadanie tylko jednej bazy danych dla wszystkich najemców. I właśnie widzieliśmy w twojej prezentacji, że jest to coś, co mamy w przyszłych planach, aby mieć ten model multi-tenant, w zależności od opinii, które otrzymujemy, oczywiście. I oczywiście myślę, że widzieliśmy to w twojej prezentacji. Jest jeszcze kilka rzeczy. Na przykład współdzielenie stołu między dzierżawcami. Powiedzmy, że masz najemcę, który będzie współdzielił pewien rodzaj - będzie współdzielił klientów, ponieważ mają różne lokalizacje i mają wszystko oddzielnie. Mają jednak wspólną tabelę. Robiliśmy tak w przeszłości. Myślę więc, że ścieżka, którą podąża ten model multi-tenant, jest naprawdę fajna. I zdecydowanie w przyszłości będziemy odchodzić od naszej niestandardowej implementacji, którą mamy teraz, zaczynając od tego, jak zmienić połączenie w czasie wykonywania. Dojdziemy do tego punktu. Jest więc pytanie. Jest jeszcze jedno pytanie dotyczące tego, czy możemy przełączać dzierżawcę za pośrednictwem adresu URL, na przykład tenant1. myapp. com, i przechodzi on do tenant1? Tak, absolutnie. Nasz model multi-tenancy ma mechanizm rozwiązywania dzierżawców. Obecnie jest on domyślnie ustawiony na logowanie przez e-mail. Można jednak zaimplementować niestandardowy mechanizm rozpoznawania dzierżawców. Technicznie rzecz biorąc, można po prostu utworzyć klasę, która implementuje określony interfejs i zapewnia - można uzyskać wymagany kontekst, na przykład bieżący identyfikator UID. Na podstawie tych informacji można wyszukać dzierżawcę. I to wszystko. Fajnie. Chcę również wspomnieć, że jedną z rzeczy, które bardzo mi się podobają, jest dokumentacja dotycząca konwersji istniejącej aplikacji. Ponieważ w ten sposób masz już aplikację, której chcesz zacząć używać w tym podejściu. Zasadniczo dodajesz zależności. I masz tutaj nuby, których potrzebujesz. Dodaj ciąg połączenia. Dodaj kilka linii podczas uruchamiania. I zasadniczo zmodyfikuj dostawcę [INAUDIBLE]. I od tego momentu aktualizują go. I gotowe. Możemy rzucić okiem na aplikację. To było dokładnie tak, jak zrobił to Dennis. Utwórz nowy projekt. Dodaj multi-tenancy. I widzisz, że mamy tutaj tenant by email resolver. Teraz możesz również użyć nazwy użytkownika. Można też utworzyć własny resolver dzierżawy. Można to zrobić samodzielnie. W zasadzie tutaj mamy moduł wielu dzierżawców. Dodaj wielu dzierżawców. A co będzie ciągiem połączenia hosta. Nie musimy więc zbyt wiele konfigurować, aby faktycznie przekonwertować aplikację na tę. W zaktualizowanej wersji możemy zobaczyć, co konfigurujemy. Konfigurujemy naszych dzierżawców. I możemy faktycznie przyjść tutaj i zobaczyć naszego dostawcę dzierżawców, któremu zamierzamy nadać identyfikator lub nazwę. I to właściwie wszystko. Myślę, że to naprawdę, naprawdę do rzeczy. Więc jestem tym naprawdę podekscytowany. I to, jestem przekonany, że wersja, którą mieliśmy wcześniej, faktycznie rzuca selektor DB w czasie wykonywania. I w zasadzie tutaj, uzyskując dostawcę ciągu połączenia i zmieniając ciąg połączenia i tak dalej. Zamierzałem więc utworzyć nowy projekt i zrobić całą multi-tenancy. Ale myślę, że Dennis również to omówił. Myślę więc, że powinniśmy zostawić to tutaj. Nie wiem, czy Rochelle lub Dave chcą o czymś wspomnieć. Sądzę jednak, że omówiliśmy większość kwestii związanych z wieloma najemcami. Jestem podekscytowany. Tak. Dziękuję za dodatkowy przegląd kodu. Chciałem wspomnieć o jeszcze jednej ważnej rzeczy dla osób, które planują migrację do naszego nowego modułu. Ważne jest, aby wziąć pod uwagę, że jak pokazałem, moduł multi-tenancy technicznie ma kilka baz danych. Jeśli więc istniejący kod ma na przykład statyczne warstwy danych, jakieś połączenie z pojedynczą bazą danych, kod ten musi zostać przejrzany i zrefaktoryzowany, aby uwzględnić scenariusz wielu baz danych. Z tym właśnie mieliśmy do czynienia podczas implementacji tego modułu. I musieliśmy zmodyfikować wiele naszych testów. I nadal istnieją dodatkowe scenariusze, które musimy uwzględnić, ponieważ warstwa danych, na przykład, jeśli mówimy o dostępie do danych XPO w warstwie danych, jest również powiązana ze słownikami XP lub metadanymi informacji o obiektach biznesowych. Trzeba również pomyśleć o tym, aby nie mieć statycznego dostępu do tych informacji w kodzie. Jest to część naszego rozwiązania tych kwestii i ułatwienia ludziom pracy. To część naszej długoterminowej wizji na przyszły rok. [Mam jedno pytanie, które dotyczy tylko mnie. Jak to wpłynie na dbUpdater? [dbUpdater? Nadal będą tworzone jako nowe, jeśli nie istnieją? Albo jaki jest konflikt schematu, że zdarzenie, na przykład, które miało miejsce w aplikacji własnej, że, OK, schemat nie istnieje lub nie jest równy? Tak, rozumiem. Myślę, że rozumiem pytanie. Moduł sam tworzy bazę danych. Kiedy więc utworzysz dzierżawcę w interfejsie hosta, następnym razem i utworzysz predefiniowanych użytkowników w module aktualizacji, za każdym razem, gdy zalogujesz się jako użytkownik z tego dzierżawcy, moduł automatycznie utworzy dla Ciebie bazę danych. Tak to teraz działa. Dzięki. Jedyną rzeczą, którą być może nieco zmodyfikuję, jest to, że nie jestem pewien, czy zrobiliśmy to dla klienta w przeszłości i nie byli zbyt zadowoleni z tego, że połączenie jest przesyłane strumieniowo bezpośrednio do bazy danych w ten sposób. Więc w zasadzie coś z tym zrobię. Ale wszystko inne wygląda bardzo dobrze. Tak, dzięki za sugestię. Znalazłem też interesujące pytanie od Dave'a. Chodzi o XPO. Myślę, że tak, w przypadku XPO możemy nazwać to trybem konserwacji, ponieważ na przykład nie tworzymy dla niego nowych dużych funkcji. Nadal naprawiamy błędy w XPO, tak jak zawsze robiliśmy to w ostatnich latach. Możesz więc sprawdzić sam i zobaczyć, że stale dostosowujemy XPO do nowych wersji . NET, . NET 6, . NET 7, . NET 8 już teraz. I tak, jeśli chodzi o resztę, z wyjątkiem modułów, skupiamy się na EF Core, ponieważ chcemy, aby był tak użyteczny jak XPO dla XF. I to by było na tyle. [Uwielbiam XPO, więc trudno byłoby mi to zmienić. Ale myślę, że to by było na tyle, jeśli chodzi o dzisiejsze spotkanie. Myślę, że omówiliśmy moduł multi-tenant. Myślę, że wygląda naprawdę dobrze. Proszę wszystkich o opinie na jego temat. Myślę, że po otrzymaniu większej ilości opinii, jeśli ekspresowa rzecz faktycznie posunie się naprzód, skorzystamy na tym, ponieważ... jest wielu klientów, którzy korzystają z tej multi-lokalizacji, multi-oddziału, multi-site. Jest to więc zdecydowanie dobry kierunek. Coś jeszcze przed zakończeniem? Dave, Jose? Jose, tak, chciałem zrobić trochę promocji dla osób, które być może nie zaglądają często do naszej dokumentacji lub po prostu chcą udostępnić mój ekran i zademonstrować kilka nowych interesujących tematów. Chodzi o wdrażanie. Fajnie. Nawiasem mówiąc, krótko poruszyłem ten temat podczas mojej prezentacji, kiedy rozmawialiśmy o skalowalności. Chodzi mi o to, że w przypadku modelu multi-tenancy jest tak samo jak w zeszłym roku. Mam na myśli na przykład Blazor. Więc nie zrobiliśmy nic, aby wspierać, na przykład, tysiące użytkowników. Możesz zobaczyć sekcję w dokumentacji na ten temat z kilkoma wskazówkami. A także, chciałem promować tę zaktualizowaną sekcję wdrażania dokumentów. Opublikowaliśmy trzy duże tematy dla wdrożenia Blazor. Pierwszy z nich dotyczy wdrażania w różnych wersjach Linuksa, takich jak Ubuntu, Red Hat itp. I tutaj można zobaczyć tylko instrukcje krok po kroku. Tak więc polecenia, wszystkie rozwiązania dla niektórych niejasnych rzeczy lub specyfiki baz danych, ISP, net core, et cetera, Linux. Więc polecam to sprawdzić. I mam nadzieję, że wszystko będzie dla ciebie łatwiejsze. Opublikowaliśmy również ten sam temat dla Azure. Myślę, że jest mniej problematyczny niż Linux, ale i tak opublikowaliśmy go jako wyjątek, ponieważ zwykle tego nie robimy. Ponieważ 80% tego tematu jest poświęcone standardowym technologiom Microsoft. Ale wciąż mieliśmy użytkowników, którzy doświadczali problemów z wdrażaniem Azure. Postanowiliśmy więc ułatwić im życie. A także, w przypadku scenariusza lokalnego, wszystko jest w porządku. Internetowy serwer informacyjny jest. Więc mamy to samo tutaj. I oczywiście mamy dokumentację - mamy listę typowych problemów i rozwiązań. Znajduje się ona w zakładce Deployment Troubleshooting Guide. Zdecydowanie warto ją sprawdzić. To także nie tylko dla Blazor, ale dla WinForms, WebForms. I to chyba wszystko. Dziękuję. Nie, dziękuję, Denis. Dokumentacja jest naprawdę - została znacznie ulepszona. Zawsze wszystkich do niej odsyłam. Tak więc każdy może zobaczyć, że większość rzeczy, o które mamy pytania, jest już omówiona w dokumentacji. Jeśli więc wiemy, czego szukać, znajdziemy tam odpowiedź. Pojawiła się więc uwaga dotycząca tego, że jeśli teraz przyjmiemy model wielu dzierżawców, a następnie zmieni się licencjonowanie, jak to na nich wpłynie? Zwykle, gdy kupujesz licencję DLS, domyślnie trwa ona 12 miesięcy. W tym okresie jej warunki nie ulegają zmianie. Chcę też podkreślić, że po pierwsze, nie pamiętam, kiedy ostatnio zmieniliśmy ceny komponentów DLS. A nawet kiedy robiliśmy to w dalekiej przeszłości, zawsze upewnialiśmy się, że nasi obecni klienci mają najlepsze warunki lub opcje, mam na myśli dodatkowe miesiące, rabaty lub cokolwiek innego. Wątpię więc, by to się zmieniło. To znaczy, wątpię, by te warunki zmieniły się w 2024 roku. Więc jeśli masz aktywną subskrypcję uniwersalną, trwa ona 12 miesięcy. I możesz być pewien, że w tym okresie się nie zmieni. Co do reszty, myślę, że nie jest to specyficzne dla DLS, ale dla każdego oprogramowania w każdej branży, wszystko może ulec zmianie, zwłaszcza biorąc pod uwagę sytuację na świecie, rynki, hiperinflację, cokolwiek. Myślę więc, że te same pytania można zadać swoim klientom. Dziękuję. W porządku. Myślę, że to by było na tyle. Hej, Danny, wielkie dzięki za dołączenie do nas dzisiaj i przedstawienie nam dobrego przeglądu modeli multi-tenants. Zapraszam wszystkich do wskoczenia i przetestowania. Dziękuję, Dave. Dziękuję, Hoche. Dziękuję wszystkim za dołączenie i bycie częścią społeczności. Do zobaczenia w przyszłym miesiącu z pięknymi zrzutami ekranu SAF UI. W porządku. Dziękuję wszystkim za udział. [BLANK_AUDIO]