# Layout Builder



Cześć wszystkim, nazywam się Igor Malevanny i jesteście na kanale JustDev. W tej serii kilku filmów wspólnie stworzymy Layout Builder, mechanizm umożliwiający programowe tworzenie layoutów w ciągu kilku sekund. Zobaczmy, jaki rezultat chcemy osiągnąć. Istnieją dwa widoki, które stworzyliśmy w ViewController i dodajemy je do głównego widoku. Mam już narzędzie do tworzenia układów, o którym będziemy mówić dalej. Teraz pokażę, do czego będziemy dążyć. Wywołujemy więc Layout Builder, otwieramy nawiasy i piszemy, że View1_LayoutTop = View1_LayoutTop = View1_LayoutTop = View1_LayoutTop = View1_LayoutTop = View1_LayoutTop = View1_LayoutTop = View1_LayoutTop = View1_LayoutTop = View1_LayoutTop = View1_LayoutTop = View1_LayoutTop = View1_LayoutTop = View1_LayoutTop = View1_LayoutTop = View1_LayoutTop = View1_LayoutTop = View1_LayoutTop = View1_LayoutTop = View1_LayoutTop = View1_LayoutTop = View1_LayoutTop = View1_LayoutTop 

Zrozumiałe jest, do czego będziemy dążyć i co będziemy robić. Cały ten mechanizm nie jest tak prosty, jak mogłoby się wydawać, ale mimo to jest proste. A teraz zobaczycie, jak do tego dojść. Zacznijmy. Aby wdrożyć program Layout Builder, potrzebujemy podstawowej wiedzy na temat działania ograniczeń w systemie iOS, co to jest narzędzie do tworzenia funkcji i co to jest język DSL lub Domain Specific Language. Linki do przydatnych materiałów można znaleźć w opisie poniżej filmu. Zacznijmy. Zanim przystąpimy do projektu, przyjrzyjmy się jego strukturom. Zanim przejdziemy do tworzenia Kreatora, musimy stworzyć układ. Obiekty, które wypełniamy i które zapewniają Builderowi niezbędne ograniczenia. Implementację układu można podzielić na trzy kroki logiczne. W pierwszym kroku stworzymy prototyp układu. Jest to prototyp konstrukcji początkowej. Jedynym celem prototypu jest przechowywanie widoku, pierwszego elementu Constraint i umożliwienie nam dostępu do następnego kroku, Attributed Layout Prototype. Oznacza to, że przez prototyp przechodzimy do innej struktury, prototypu z atrybutem. Celem prototypu z atrybutem jest przechowywanie pierwszego elementu Constraint i jego pierwszego atrybutu. Prototyp z atrybutem ma kilka funkcji porównawczych, dzięki którym przechodzimy do ostatniego kroku: obiektu Layout. Layout ma modyfikatory DSL do własnej konfiguracji, więc modyfikatory trzeciego kroku prowadzą do trzeciego kroku – to finał. Mówiąc po prostu, patrząc od góry do dołu od 1, 2, 3, prototyp układu zamienia się w prototyp układu atrybutu za pomocą modyfikatora atrybutu. Poprzez funkcję modyfikatora Equality Function przechodzi on do Layout. Layout przechodzi do Layout za pomocą swoich modyfikatorów DSL. I to jest ostatni krok. Layout Builder. Dziś jestem oryginalny. Wszystko można dostosować do własnych potrzeb. I interfejs Storyboard. To nie jest SwiftUI, chociaż wynik będzie podobny do stylu SwiftUI, ale to nie jest SwiftUI, to jest UIKit. UIKit jest oblegany. Wszystko się zgadza. Next. Tworzymy. I zaczynamy. Mamy ViewController, nie dotykamy go. Dla naszego projektu stwórzmy nowy folder. Pierwszym plikiem, od którego zaczniemy, będzie Layout Prototype. Natychmiast importujemy UIKit. Prototyp układu to struktura, która zawiera jeden element UIView. Przyjrzyjmy się bliżej prototypowi układu. Prototyp układu to struktura. Pierwszy pusty krok w kierunku stworzenia lejutu. Jest on tworzony przy użyciu jedynego parametru UIView, który będzie pierwszym elementem w Constraint. Będzie również zawierał obliczone atrybuty ComputedProperty, które będą miały typ AttributedLayoutPrototype. Oznacza to, że te obliczone właściwości będą naszym kolejnym krokiem w kierunku AttributedLayoutPrototype. Stwórzmy AttributedLayoutPrototype. Tworzymy nowy plik. Nazywamy go AttributedLayoutPrototype. I tworzymy strukturę o tej samej nazwie. Podobnie jak w przypadku prototypu układu, tworzymy element, który będzie interfejsem UIView. A ponieważ jest to Attributed, będzie miał jeszcze Attribute. NSLayoutConstraintAttribute. Co to jest atrybut? Zobaczmy. Przypomnijmy, jeśli ktoś zapomniał. To tylko pozycje. Lewo, prawo, góra, dół, prowadzenie, traling, szerokość, wysokość, centra itp. Naszym zadaniem jest po prostu stworzenie modyfikatorów dla prototypu układu, które powtórzą te nazwy i stworzą dla nas AttributedLayoutPrototype. To proste. Aby jednak nie tworzyć owsianki w ostatecznej realizacji, zmieńmy nieco dostępność naszych rzeczy. Mianowicie, uczynimy je prywatnymi, ale tylko ich seterami. Oznacza to, że możemy je czytać, nie możemy ich nagrywać z zewnątrz. Teraz, gdy mamy już AttributedLayoutPrototype i LayoutPrototype, uzupełnijmy LayoutPrototype. Rozwińmy go. Wróćmy do Attribute, aby było to łatwiejsze. I skopiujmy parę. Chodźmy w lewo, w prawo, w górę, w dół. Skopiujemy tylko po to, aby mieć je przed oczami. Nie potrzebujemy tego. Piszemy var left. Tylko typ będzie miał AttributedLayoutPrototype. I zostanie zwrócony. Przekazujemy przedmiot. Nasz przedmiot, który już mamy. I atrybut przekazuje odpowiednią nazwę. Left. Robimy to dla innych. Left, right, top, bottom. Aby nie zajmować waszego czasu, pozwoliłem sobie stworzyć 12 różnych atrybutów za kulisami. Możesz obejrzeć, przepisać, wstrzymać. To nie jest problem. Co więc mamy? Najpierw tworzymy LayoutPrototype, który ma widok elementu. Następnie w LayoutPrototype wywołujemy dowolny z atrybutów, które zwrócą nam atrybut z LayoutPrototype. Mianowicie ten sam View + odpowiedni atrybut z NSLayoutConstraint. Zobaczmy, jak to wygląda w tej chwili. Tworzymy LayoutPrototype. Zainicjujemy go za pomocą widoku. Można to zrobić. Następnie wywołujemy jeden z jego atrybutów. Załóżmy, że wysokość. Teraz przyjrzyjmy się, jaki typ obiektu ma atrybut LayoutPrototype. Zasadniczo w tym kierunku i w tym stylu będziemy dalej projektować nasz mechanizm. Przyjrzyjmy się bliżej atrybutowi LayoutPrototype. Atrybut LayoutPrototype to struktura. Podoba mi się, że nazywam go drugim półwypełnionym krokiem do tworzenia layoutu. Zawiera UIView jako pierwszy element do tworzenia ograniczeń. I NSLayoutConstraintAtribute jako pierwszy atrybut do tworzenia Constraint. Powinien również zapewnić trzy funkcje, które doprowadzą nas do trzeciego kroku: do stworzenia lejtu. Wrócimy jednak do tego w następnym filmie. Dziękuję za uwagę. Przypomnijmy, że wszystkie przydatne linki znajdują się w opisie poniżej filmu. Polub, subskrybuj kanał i do zobaczenia wkrótce na JustDev. *Śmiech*